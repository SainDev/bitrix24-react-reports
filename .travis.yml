language: node_js
node_js: node

install:
  - npm install

cache:
  directories:
    - "node_modules"

before_deploy:
  - npm run build
  - echo -e "node_modules\npackage-lock.json" > .gitignore

deploy:
    provider: pages
    local-dir: dist
    skip-cleanup: true
    github-token: $GITHUB_TOKEN
    keep-history: true
    repo: SainDev/saindev.github.io
    target-branch: master
  on:
    branch: master